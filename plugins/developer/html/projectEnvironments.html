<div ng-controller="Developer.ProjectEnvironmentsController">
  <div class="row">
    <div hawtio-breadcrumbs></div>
  </div>

  <div class="row">
    <div hawtio-tabs></div>
  </div>

  <script type="text/ng-template" id="environmentNameTempalte.html">
    <div class="ngCellText">
      <div class="ngCellText">
        <a ng-show="row.entity.$environmentLink" href="{{row.entity.$environmentLink}}" title="View this environment">
          <i class="fa fa-cube"></i> {{row.entity.name}}
        </a>
        <span ng-hide="row.entity.$environmentLink"><i class="fa fa-cube"></i> {{row.entity.name}}</span>
      </div>
    </div>
  </script>


  <div class="row filter-header">
    <div class="col-md-12" ng-show="model.environments.length">
<!--
      <span ng-show="!id">
        <hawtio-filter ng-model="tableConfig.filterOptions.filterText"
                       css-class="input-xxlarge"
                       placeholder="Filter environments..."></hawtio-filter>
      </span>
-->
      <span class="pull-right">&nbsp;</span>
      <button class="btn btn-danger pull-right"
              title="Deletes the selected environments"
              ng-disabled="!tableConfig.selectedItems.length"
              ng-click="deletePrompt(tableConfig.selectedItems)">
        <i class="fa fa-remove"></i> Delete
      </button>
      <span class="pull-right">&nbsp;</span>
      <a class="btn btn-primary pull-right"
         title="Adds a new environment to this project"
         ng-click="createNamespaceDialog.open()">
        <i class="fa fa-plus"></i> Add Environment
      </a>
    </div>
  </div>

  <div ng-hide="model.fetched">
    <div class="row">
      <div class="col-md-12">
        <div class="align-center">
          <i class="fa fa-spinner fa-spin"></i>
        </div>
      </div>
    </div>
  </div>

  <div ng-show="model.fetched">
    <div ng-hide="model.environments.length" class="align-center">
      <div class="row">
        <div class="col-md-12">
          <p class="alert alert-info">There are no environments currently available.</p>
        </div>
      </div>
    </div>
    <div ng-show="model.environments.length">
<!--
            <div class="row">
              <div class="col-md-12">
                <table class="table table-bordered table-striped" hawtio-simple-table="tableConfig"></table>
              </div>
            </div>
-->

      <div style="float: none; position: static;">
        <div class="row row-cards-pf" title="{{env.description}}">
          <div class="col-md-12 environment-rows">
            <div class="card-pf">
<!--
              <div class="card-pf-heading">
                <h2 class="card-pf-title inline-block">Environments</h2>
              </div>
-->
              <div class="card-pf-body">
                <div ng-hide="environments.length">
                  <div class="row">
                    <div class="col-md-12 align-center">
                      <h2>No Environment Available</h2>
                      <p>Environment is a logical place where deployments happen which maps to a kubernetes / openshift
                        namespace. You will see environments here after you add a build.</p>
                      <a class="btn btn-primary" ng-href="{{settingsLink}}"><i class="fa fa-plus"></i> New Build</a>
                    </div>
                  </div>
                </div>
                <div ng-show="environments.length">
                  <div ng-repeat="env in environments | orderBy: 'order' | filter:filterTemplates track by $index"
                       class="inline-block environment-block"
                       ng-include="'plugins/developer/html/environmentPanel.html'">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

<!--
        <div class="row row-cards-pf">
          <div class="col-md-12">
            <div class="card-pf pipeline">
              <div class="card-pf-heading no-border">
                <h2 class="card-pf-title inline-block">Active Pipelines</h4>
                  <a ng-href="{{$projectLink}}/jenkinsJob/{{jobId}}/pipelines">View All Pipelines >></a>
              </div>
              <div class="card-pf-body no-top-margin">
                <div class="full-card-width" ng-controller="Developer.PipelinesController"
                     ng-include="'plugins/kubernetes/html/pendingPipelines.html'"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="row row-cards-pf">
          <div class="col-md-12">
            <div class="card-pf">
              <div class="card-pf-heading">
                <h2 class="card-pf-title inline-block">Commits</h2>
                <a ng-href="{{$projectLink}}/wiki/history//">View All Commits >></a>
              </div>
              <div class="card-pf-body">
                <div ng-include="'plugins/wiki/html/projectCommitsPanel.html'"></div>
              </div>
            </div>
          </div>
        </div>
-->

      </div>
    </div>
  </div>
</div>
